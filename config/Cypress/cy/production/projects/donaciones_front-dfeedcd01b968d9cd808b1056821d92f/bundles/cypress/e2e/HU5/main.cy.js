/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
var __webpack_exports__ = {};
/*!************************************!*\
  !*** ./cypress/e2e/HU5/main.cy.js ***!
  \************************************/


describe("Historia de usuario 5. Descargar Archivo en Excel", () => {
  before(() => {
    // Login
    cy.login("admin", "juan20032003");

    // Fill the table
    cy.visit("/#/salida");
    cy.get("#outgoings_body input").first().type("1");
    cy.contains("Continuar").click();
    cy.get("#prestamo").check();
    cy.get("input[name=patientNumber").type("1234");
    cy.get("input[name=volunteerName").type("Voluntario Test Prestamo");
    cy.contains("Continuar").click();
    cy.wait(1000);

    // Register an outcoming
    cy.visit("/#/salida");
    cy.get("#outgoings_body input").first().type("1");
    cy.contains("Continuar").click();
    cy.get("#donacion").check();
    cy.get("input[name=patientNumber]").type("5678");
    cy.get("input[name=volunteerName]").type("Voluntario Test Salida");
    cy.contains("Continuar").click();
    cy.wait(1000);

    // Register an incoming
    cy.visit("/#/entrada");
    cy.get("#incomings_body input").first().type("1");
    cy.contains("Continuar").click();
    cy.get("input[name=donorName]").type("Donante Test");
    cy.get("input[name=volunteerName]").type("Voluntario Test Entrada");
    cy.contains("Continuar").click();
    cy.wait(1000);
  });
  beforeEach(() => {
    // Login
    cy.login("admin", "juan20032003");
  });
  it("Descargar el excel en prestamos, donaciones y entradas", () => {
    const filenameLoan = "_prestamos_2024-05-28.csv_";
    const filenameIncoming = "_entradas_2024-05-28.csv_";
    const filenameOutgoing = "_salidas_2024-05-28.csv_";

    // Delete any downloads before the test
    cy.task('deleteFolder', 'cypress/downloads').then(() => {
      // Search past loan movements and download the file
      cy.visit("/#/movimientos");
      cy.get("button").contains("Préstamo").click();
      cy.wait(1000);
      cy.get("button").contains("Descargar en Excel").click();

      // Wait for the download to finish
      cy.wait(5000);

      // Assert if the file is downloaded
      cy.task('isFileDownloaded', filenameLoan).should('be.true');

      // Search past outgoing movements and download the file
      cy.visit("/#/movimientos");
      cy.get("button").contains("Salidas").click();
      cy.wait(1000);
      cy.get("button").contains("Descargar en Excel").click();

      // Wait for the download to finish
      cy.wait(5000);

      // Assert if the file is downloaded
      cy.task('isFileDownloaded', filenameOutgoing).should('be.true');

      // Search past incomings movements and download the file
      cy.visit("/#/movimientos");
      cy.get("button").contains("Entradas").click();
      cy.wait(1000);
      cy.get("button").contains("Descargar en Excel").click();

      // Wait for the download to finish
      cy.wait(5000);

      // Assert if the file is downloaded
      cy.task('isFileDownloaded', filenameIncoming).should('be.true');
    });
  });

  // Una prueba con todos los datos de entrada, con el donador en null
  it("Prueba con donador null", () => {
    const filenameIncoming = "_entradas_2024-05-28.csv_";

    // Register an incoming
    cy.visit("/#/entrada");
    cy.get("#incomings_body input").first().type("1");
    cy.contains("Continuar").click();
    //cy.get("input[name=donorName]").type(" ");
    cy.get("input[name=volunteerName]").type("Voluntario Null");
    cy.contains("Continuar").click();
    cy.wait(1000);

    // Delete any downloads before the test
    cy.task('deleteFolder', 'cypress/downloads').then(() => {
      // Search past incomings movements and download the file
      cy.visit("/#/movimientos");
      cy.get("button").contains("Entradas").click();
      cy.wait(1000);
      cy.get('input[placeholder="Buscar"]').type("Voluntario Null");
      cy.wait(1000);
      cy.get("button").eq(1).click();
      cy.get("button").contains("Descargar en Excel").click();

      // Wait for the download to finish
      cy.wait(5000);

      // Assert if the file is downloaded
      cy.task('isFileDownloaded', filenameIncoming).should('be.true');
    });
  });
  it("Prueba sin datos", () => {
    // Search past loan movements and asserting the button doesnt show up
    cy.visit("/#/movimientos");
    cy.get("button").contains("Préstamo").click();
    cy.wait(1000);
    cy.get('input[placeholder="Buscar"]').type("Nada");
    cy.wait(1000);
    cy.get("button").eq(2).click();
    cy.get("button").should("not.contain", "Descargar en Excel");
  });
});
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsQ0FBQ1gsS0FBSyxDQUFDLENBQUM7SUFDOUJQLEVBQUUsQ0FBQ0csR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDYyxNQUFNLENBQUMsYUFBYSxFQUFFLG9CQUFvQixDQUFDO0VBQ25FLENBQUMsQ0FBQztBQUVILENBQUMsQ0FBQyxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG9uYWNpb25lcy8uL2N5cHJlc3MvZTJlL0hVNS9tYWluLmN5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImRlc2NyaWJlKFwiSGlzdG9yaWEgZGUgdXN1YXJpbyA1LiBEZXNjYXJnYXIgQXJjaGl2byBlbiBFeGNlbFwiLCAoKSA9PiB7XG5cdGJlZm9yZSgoKSA9PiB7XG5cdFx0Ly8gTG9naW5cblx0XHRjeS5sb2dpbihcImFkbWluXCIsIFwianVhbjIwMDMyMDAzXCIpO1xuXG5cdFx0Ly8gRmlsbCB0aGUgdGFibGVcblx0XHRjeS52aXNpdChcIi8jL3NhbGlkYVwiKTtcblx0XHRjeS5nZXQoXCIjb3V0Z29pbmdzX2JvZHkgaW5wdXRcIikuZmlyc3QoKS50eXBlKFwiMVwiKTtcblx0XHRjeS5jb250YWlucyhcIkNvbnRpbnVhclwiKS5jbGljaygpO1xuXHRcdGN5LmdldChcIiNwcmVzdGFtb1wiKS5jaGVjaygpO1xuXHRcdGN5LmdldChcImlucHV0W25hbWU9cGF0aWVudE51bWJlclwiKS50eXBlKFwiMTIzNFwiKTtcblx0XHRjeS5nZXQoXCJpbnB1dFtuYW1lPXZvbHVudGVlck5hbWVcIikudHlwZShcIlZvbHVudGFyaW8gVGVzdCBQcmVzdGFtb1wiKTtcblx0XHRjeS5jb250YWlucyhcIkNvbnRpbnVhclwiKS5jbGljaygpO1xuXHRcdGN5LndhaXQoMTAwMCk7XG5cblx0XHQvLyBSZWdpc3RlciBhbiBvdXRjb21pbmdcbiAgICAgICAgY3kudmlzaXQoXCIvIy9zYWxpZGFcIik7XG4gICAgICAgIGN5LmdldChcIiNvdXRnb2luZ3NfYm9keSBpbnB1dFwiKS5maXJzdCgpLnR5cGUoXCIxXCIpO1xuICAgICAgICBjeS5jb250YWlucyhcIkNvbnRpbnVhclwiKS5jbGljaygpO1xuICAgICAgICBjeS5nZXQoXCIjZG9uYWNpb25cIikuY2hlY2soKTtcbiAgICAgICAgY3kuZ2V0KFwiaW5wdXRbbmFtZT1wYXRpZW50TnVtYmVyXVwiKS50eXBlKFwiNTY3OFwiKTtcbiAgICAgICAgY3kuZ2V0KFwiaW5wdXRbbmFtZT12b2x1bnRlZXJOYW1lXVwiKS50eXBlKFwiVm9sdW50YXJpbyBUZXN0IFNhbGlkYVwiKTtcbiAgICAgICAgY3kuY29udGFpbnMoXCJDb250aW51YXJcIikuY2xpY2soKTtcbiAgICAgICAgY3kud2FpdCgxMDAwKTtcblxuICAgICAgICAvLyBSZWdpc3RlciBhbiBpbmNvbWluZ1xuICAgICAgICBjeS52aXNpdChcIi8jL2VudHJhZGFcIik7XG5cdFx0Y3kuZ2V0KFwiI2luY29taW5nc19ib2R5IGlucHV0XCIpLmZpcnN0KCkudHlwZShcIjFcIik7XG4gICAgICAgIGN5LmNvbnRhaW5zKFwiQ29udGludWFyXCIpLmNsaWNrKCk7XG4gICAgICAgIGN5LmdldChcImlucHV0W25hbWU9ZG9ub3JOYW1lXVwiKS50eXBlKFwiRG9uYW50ZSBUZXN0XCIpO1xuICAgICAgICBjeS5nZXQoXCJpbnB1dFtuYW1lPXZvbHVudGVlck5hbWVdXCIpLnR5cGUoXCJWb2x1bnRhcmlvIFRlc3QgRW50cmFkYVwiKTtcbiAgICAgICAgY3kuY29udGFpbnMoXCJDb250aW51YXJcIikuY2xpY2soKTtcbiAgICAgICAgY3kud2FpdCgxMDAwKTtcblx0fSk7XG5cblx0YmVmb3JlRWFjaCgoKSA9PiB7XG5cdFx0Ly8gTG9naW5cblx0XHRjeS5sb2dpbihcImFkbWluXCIsIFwianVhbjIwMDMyMDAzXCIpO1xuXHR9KTtcblxuXHRpdChcIkRlc2NhcmdhciBlbCBleGNlbCBlbiBwcmVzdGFtb3MsIGRvbmFjaW9uZXMgeSBlbnRyYWRhc1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGVuYW1lTG9hbiA9IFwiX3ByZXN0YW1vc18yMDI0LTA1LTI4LmNzdl9cIjtcbiAgICAgICAgY29uc3QgZmlsZW5hbWVJbmNvbWluZyA9IFwiX2VudHJhZGFzXzIwMjQtMDUtMjguY3N2X1wiO1xuICAgICAgICBjb25zdCBmaWxlbmFtZU91dGdvaW5nID0gXCJfc2FsaWRhc18yMDI0LTA1LTI4LmNzdl9cIjtcblxuICAgICAgICAvLyBEZWxldGUgYW55IGRvd25sb2FkcyBiZWZvcmUgdGhlIHRlc3RcbiAgICAgICAgY3kudGFzaygnZGVsZXRlRm9sZGVyJywgJ2N5cHJlc3MvZG93bmxvYWRzJykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBTZWFyY2ggcGFzdCBsb2FuIG1vdmVtZW50cyBhbmQgZG93bmxvYWQgdGhlIGZpbGVcbiAgICAgICAgICAgIGN5LnZpc2l0KFwiLyMvbW92aW1pZW50b3NcIik7XG4gICAgICAgICAgICBjeS5nZXQoXCJidXR0b25cIikuY29udGFpbnMoXCJQcsOpc3RhbW9cIikuY2xpY2soKTtcbiAgICAgICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgICAgICBjeS5nZXQoXCJidXR0b25cIikuY29udGFpbnMoXCJEZXNjYXJnYXIgZW4gRXhjZWxcIikuY2xpY2soKTtcbiAgICAgICAgXG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgZG93bmxvYWQgdG8gZmluaXNoXG4gICAgICAgICAgICBjeS53YWl0KDUwMDApO1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIEFzc2VydCBpZiB0aGUgZmlsZSBpcyBkb3dubG9hZGVkXG4gICAgICAgICAgICBjeS50YXNrKCdpc0ZpbGVEb3dubG9hZGVkJywgZmlsZW5hbWVMb2FuKS5zaG91bGQoJ2JlLnRydWUnKTtcblxuICAgICAgICAgICAgLy8gU2VhcmNoIHBhc3Qgb3V0Z29pbmcgbW92ZW1lbnRzIGFuZCBkb3dubG9hZCB0aGUgZmlsZVxuICAgICAgICAgICAgY3kudmlzaXQoXCIvIy9tb3ZpbWllbnRvc1wiKTtcbiAgICAgICAgICAgIGN5LmdldChcImJ1dHRvblwiKS5jb250YWlucyhcIlNhbGlkYXNcIikuY2xpY2soKTtcbiAgICAgICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgICAgICBjeS5nZXQoXCJidXR0b25cIikuY29udGFpbnMoXCJEZXNjYXJnYXIgZW4gRXhjZWxcIikuY2xpY2soKTtcbiAgICAgICAgXG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgZG93bmxvYWQgdG8gZmluaXNoXG4gICAgICAgICAgICBjeS53YWl0KDUwMDApO1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIEFzc2VydCBpZiB0aGUgZmlsZSBpcyBkb3dubG9hZGVkXG4gICAgICAgICAgICBjeS50YXNrKCdpc0ZpbGVEb3dubG9hZGVkJywgZmlsZW5hbWVPdXRnb2luZykuc2hvdWxkKCdiZS50cnVlJyk7XG5cbiAgICAgICAgICAgIC8vIFNlYXJjaCBwYXN0IGluY29taW5ncyBtb3ZlbWVudHMgYW5kIGRvd25sb2FkIHRoZSBmaWxlXG4gICAgICAgICAgICBjeS52aXNpdChcIi8jL21vdmltaWVudG9zXCIpO1xuICAgICAgICAgICAgY3kuZ2V0KFwiYnV0dG9uXCIpLmNvbnRhaW5zKFwiRW50cmFkYXNcIikuY2xpY2soKTtcbiAgICAgICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgICAgICBjeS5nZXQoXCJidXR0b25cIikuY29udGFpbnMoXCJEZXNjYXJnYXIgZW4gRXhjZWxcIikuY2xpY2soKTtcbiAgICAgICAgXG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgZG93bmxvYWQgdG8gZmluaXNoXG4gICAgICAgICAgICBjeS53YWl0KDUwMDApO1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIEFzc2VydCBpZiB0aGUgZmlsZSBpcyBkb3dubG9hZGVkXG4gICAgICAgICAgICBjeS50YXNrKCdpc0ZpbGVEb3dubG9hZGVkJywgZmlsZW5hbWVJbmNvbWluZykuc2hvdWxkKCdiZS50cnVlJyk7XG4gICAgICAgICAgfSk7XG5cdH0pO1xuXG4gICAgLy8gVW5hIHBydWViYSBjb24gdG9kb3MgbG9zIGRhdG9zIGRlIGVudHJhZGEsIGNvbiBlbCBkb25hZG9yIGVuIG51bGxcbiAgICBpdChcIlBydWViYSBjb24gZG9uYWRvciBudWxsXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgZmlsZW5hbWVJbmNvbWluZyA9IFwiX2VudHJhZGFzXzIwMjQtMDUtMjguY3N2X1wiO1xuXG4gICAgICAgIC8vIFJlZ2lzdGVyIGFuIGluY29taW5nXG4gICAgICAgIGN5LnZpc2l0KFwiLyMvZW50cmFkYVwiKTtcblx0XHRjeS5nZXQoXCIjaW5jb21pbmdzX2JvZHkgaW5wdXRcIikuZmlyc3QoKS50eXBlKFwiMVwiKTtcbiAgICAgICAgY3kuY29udGFpbnMoXCJDb250aW51YXJcIikuY2xpY2soKTtcbiAgICAgICAgLy9jeS5nZXQoXCJpbnB1dFtuYW1lPWRvbm9yTmFtZV1cIikudHlwZShcIiBcIik7XG4gICAgICAgIGN5LmdldChcImlucHV0W25hbWU9dm9sdW50ZWVyTmFtZV1cIikudHlwZShcIlZvbHVudGFyaW8gTnVsbFwiKTtcbiAgICAgICAgY3kuY29udGFpbnMoXCJDb250aW51YXJcIikuY2xpY2soKTtcbiAgICAgICAgY3kud2FpdCgxMDAwKTtcblxuICAgICAgICAvLyBEZWxldGUgYW55IGRvd25sb2FkcyBiZWZvcmUgdGhlIHRlc3RcbiAgICAgICAgY3kudGFzaygnZGVsZXRlRm9sZGVyJywgJ2N5cHJlc3MvZG93bmxvYWRzJykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBTZWFyY2ggcGFzdCBpbmNvbWluZ3MgbW92ZW1lbnRzIGFuZCBkb3dubG9hZCB0aGUgZmlsZVxuICAgICAgICAgICAgY3kudmlzaXQoXCIvIy9tb3ZpbWllbnRvc1wiKTtcbiAgICAgICAgICAgIGN5LmdldChcImJ1dHRvblwiKS5jb250YWlucyhcIkVudHJhZGFzXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICBjeS53YWl0KDEwMDApO1xuICAgICAgICAgICAgY3kuZ2V0KCdpbnB1dFtwbGFjZWhvbGRlcj1cIkJ1c2NhclwiXScpLnR5cGUoXCJWb2x1bnRhcmlvIE51bGxcIik7XG4gICAgICAgICAgICBjeS53YWl0KDEwMDApO1xuICAgICAgICAgICAgY3kuZ2V0KFwiYnV0dG9uXCIpLmVxKDEpLmNsaWNrKCk7XG4gICAgICAgICAgICBjeS5nZXQoXCJidXR0b25cIikuY29udGFpbnMoXCJEZXNjYXJnYXIgZW4gRXhjZWxcIikuY2xpY2soKTtcbiAgICAgICAgXG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgZG93bmxvYWQgdG8gZmluaXNoXG4gICAgICAgICAgICBjeS53YWl0KDUwMDApO1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIEFzc2VydCBpZiB0aGUgZmlsZSBpcyBkb3dubG9hZGVkXG4gICAgICAgICAgICBjeS50YXNrKCdpc0ZpbGVEb3dubG9hZGVkJywgZmlsZW5hbWVJbmNvbWluZykuc2hvdWxkKCdiZS50cnVlJyk7XG4gICAgICAgICAgfSk7XG5cdH0pO1xuXG5cbiAgICBpdChcIlBydWViYSBzaW4gZGF0b3NcIiwgKCkgPT4ge1xuICAgICAgICAvLyBTZWFyY2ggcGFzdCBsb2FuIG1vdmVtZW50cyBhbmQgYXNzZXJ0aW5nIHRoZSBidXR0b24gZG9lc250IHNob3cgdXBcbiAgICAgICAgY3kudmlzaXQoXCIvIy9tb3ZpbWllbnRvc1wiKTtcbiAgICAgICAgY3kuZ2V0KFwiYnV0dG9uXCIpLmNvbnRhaW5zKFwiUHLDqXN0YW1vXCIpLmNsaWNrKCk7XG4gICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgIGN5LmdldCgnaW5wdXRbcGxhY2Vob2xkZXI9XCJCdXNjYXJcIl0nKS50eXBlKFwiTmFkYVwiKTtcbiAgICAgICAgY3kud2FpdCgxMDAwKTtcbiAgICAgICAgY3kuZ2V0KFwiYnV0dG9uXCIpLmVxKDIpLmNsaWNrKCk7XG4gICAgICAgIGN5LmdldChcImJ1dHRvblwiKS5zaG91bGQoXCJub3QuY29udGFpblwiLCBcIkRlc2NhcmdhciBlbiBFeGNlbFwiKTtcblx0fSk7XG5cbn0pO1xuIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiYmVmb3JlIiwiY3kiLCJsb2dpbiIsInZpc2l0IiwiZ2V0IiwiZmlyc3QiLCJ0eXBlIiwiY29udGFpbnMiLCJjbGljayIsImNoZWNrIiwid2FpdCIsImJlZm9yZUVhY2giLCJpdCIsImZpbGVuYW1lTG9hbiIsImZpbGVuYW1lSW5jb21pbmciLCJmaWxlbmFtZU91dGdvaW5nIiwidGFzayIsInRoZW4iLCJzaG91bGQiLCJlcSJdLCJzb3VyY2VSb290IjoiIn0=
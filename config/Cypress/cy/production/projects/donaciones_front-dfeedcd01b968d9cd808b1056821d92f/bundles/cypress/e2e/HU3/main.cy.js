/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
var __webpack_exports__ = {};
/*!************************************!*\
  !*** ./cypress/e2e/HU3/main.cy.js ***!
  \************************************/


describe('Historia de usuario 3. Prueba de campo de búsqueda', () => {
  before(() => {
    // Login
    cy.login("admin", "juan20032003");

    // Register a loan
    cy.visit("/#/salida");
    cy.get("#outgoings_body input").first().type("1");
    cy.contains("Continuar").click();
    cy.get("#prestamo").check();
    cy.get("input[name=patientNumber]").type("1234");
    cy.get("input[name=volunteerName]").type("VOLUNTARIOP");
    cy.contains("Continuar").click();
    cy.wait(1000);

    // Register an outcoming
    cy.visit("/#/salida");
    cy.get("#outgoings_body input").first().type("1");
    cy.contains("Continuar").click();
    cy.get("#donacion").check();
    cy.get("input[name=patientNumber]").type("5678");
    cy.get("input[name=volunteerName]").type("VOLUNTARIOD");
    cy.contains("Continuar").click();
    cy.wait(1000);

    // Register an incoming
    cy.visit("/#/entrada");
    cy.get("#incomings_body input").first().type("1");
    cy.contains("Continuar").click();
    cy.get("input[name=donorName]").type("DONANTEE");
    cy.get("input[name=volunteerName]").type("VOLUNTARIOPE");
    cy.contains("Continuar").click();
    cy.wait(1000);
  });
  beforeEach(() => {
    // Login before each test
    cy.login("admin", "juan20032003");
  });

  // Test for loan search
  it("Búsqueda de préstamo", () => {
    // Search in Active Loans table
    cy.visit("/#/prestamos");
    cy.wait(1000);
    cy.get('input[placeholder="Buscar"]').type("VOLUNTARIOP");
    cy.wait(1000);
    cy.get("button").eq(2).click();
    cy.get("table").should("contain", "VOLUNTARIOP");

    // Search in Past Movements (Loans) table        
    cy.visit("/#/movimientos");
    cy.get("button").contains("Préstamo").click();
    cy.wait(1000);
    cy.get('input[placeholder="Buscar"]').type("VOLUNTARIOP");
    cy.wait(1000);
    cy.get("button").eq(2).click();
    cy.get("table").should("contain", "VOLUNTARIOP");
  });

  // Test for entry donation search
  it("Búsqueda de donacion de entrada", () => {
    cy.visit("/#/movimientos");
    cy.get("button").contains("Entradas").click();
    cy.wait(1000);
    cy.get('input[placeholder="Buscar"]').type("DONANTEE");
    cy.wait(1000);
    cy.get("button").eq(2).click();
    cy.get("table").should("contain", "DONANTEE");
  });

  // Test for registered exit search
  it("Busqueda de una salida registrada", () => {
    cy.visit("/#/movimientos");
    cy.get("button").contains("Salidas").click();
    cy.wait(1000);
    cy.get('input[placeholder="Buscar"]').type("VOLUNTARIOD");
    cy.wait(1000);
    cy.get("button").eq(2).click();
    cy.get("table").should("contain", "5678");
  });

  // Test for null or empty values:
  it("Busqueda de valores nulos o vacios", () => {
    // Register a transaction with null values        
    cy.visit("/#/salida");
    cy.get("input").first().type("1");
    cy.contains("Continuar").click();
    cy.get("#donacion").check();
    cy.get("input[name=patientNumber]").type("9999");
    cy.get("input[name=volunteerName]").clear();
    cy.contains("Continuar").click();
    cy.wait(6000);

    // Perform search for a transaction with null values (Should not exist)        
    cy.visit("/#/movimientos");
    cy.get("button").contains("Salidas").click();
    cy.get('input[placeholder="Buscar"]').type("9999");
    cy.wait(1000);
    cy.get("button").eq(2).click();
    cy.get("table").should("not.contain", "9999");
  });

  // Test for viewing past transactions
  it("Verificación de la visualización de transacciones pasadas", () => {
    cy.visit("/#/movimientos");
    cy.wait(1000);
    cy.get("table").find("tr").should("have.length.greaterThan", 1);
  });

  // Sorting test
  it("Tabla ordenada descendentemente por fecha", () => {
    // Visit the movements page
    cy.visit("/#/movimientos");
    cy.wait(1000);
    // Select all cells in the third column
    cy.get("table tbody tr td:nth-child(3)").then($cells => {
      // Extract the text content of the cells and store them in an array
      const dates = [...$cells].map(cell => cell.innerText.trim());
      // Convert the date strings to Date objects for easy comparison
      const dateObjects = dates.map(date => new Date(date));
      // Verify that the dates are in descending order
      const isDescending = dateObjects.every((date, i, arr) => {
        // Ensure each date is less than or equal to the previous date
        return i === 0 || date <= arr[i - 1];
      });
      // Use expect to assert that the dates are indeed in descending order
      expect(isDescending).to.be.true;
    });
  });

  // Test for handling time zones and special dates
});
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUMsSUFBSSxDQUFDLENBQUNGLE1BQU0sQ0FBQyx5QkFBeUIsRUFBRSxDQUFDLENBQUM7RUFDbkUsQ0FBQyxDQUFDOztFQUVGO0VBQ0FGLEVBQUUsQ0FBQywyQ0FBMkMsRUFBRSxNQUFNO0lBQ2xEO0lBQ0FYLEVBQUUsQ0FBQ0UsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0lBQzFCRixFQUFFLENBQUNTLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDYjtJQUNBVCxFQUFFLENBQUNHLEdBQUcsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUN2Q2EsSUFBSSxDQUFFQyxNQUFNLElBQUs7TUFDZDtNQUNBLE1BQU1DLEtBQUssR0FBRyxDQUFDLEdBQUdELE1BQU0sQ0FBQyxDQUFDRSxHQUFHLENBQUNDLElBQUksSUFBSUEsSUFBSSxDQUFDQyxTQUFTLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUM7TUFDNUQ7TUFDQSxNQUFNQyxXQUFXLEdBQUdMLEtBQUssQ0FBQ0MsR0FBRyxDQUFDSyxJQUFJLElBQUksSUFBSUMsSUFBSSxDQUFDRCxJQUFJLENBQUMsQ0FBQztNQUNyRDtNQUNBLE1BQU1FLFlBQVksR0FBR0gsV0FBVyxDQUFDSSxLQUFLLENBQUMsQ0FBQ0gsSUFBSSxFQUFFSSxDQUFDLEVBQUVDLEdBQUcsS0FBSztRQUNyRDtRQUNBLE9BQU9ELENBQUMsS0FBSyxDQUFDLElBQUlKLElBQUksSUFBSUssR0FBRyxDQUFDRCxDQUFDLEdBQUcsQ0FBQyxDQUFDO01BQ3hDLENBQUMsQ0FBQztNQUNGO01BQ0FFLE1BQU0sQ0FBQ0osWUFBWSxDQUFDLENBQUNLLEVBQUUsQ0FBQ0MsRUFBRSxDQUFDQyxJQUFJO0lBQ25DLENBQUMsQ0FBQztFQUVOLENBQUMsQ0FBQzs7RUFFRjtBQUNKLENBQUMsQ0FBQyxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG9uYWNpb25lcy8uL2N5cHJlc3MvZTJlL0hVMy9tYWluLmN5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImRlc2NyaWJlKCdIaXN0b3JpYSBkZSB1c3VhcmlvIDMuIFBydWViYSBkZSBjYW1wbyBkZSBiw7pzcXVlZGEnLCAoKSA9PiB7ICBcbiAgICBiZWZvcmUoKCkgPT4ge1xuICAgICAgICAvLyBMb2dpblxuXHRcdGN5LmxvZ2luKFwiYWRtaW5cIiwgXCJqdWFuMjAwMzIwMDNcIik7XG5cbiAgICAgICAgLy8gUmVnaXN0ZXIgYSBsb2FuXG4gICAgICAgIGN5LnZpc2l0KFwiLyMvc2FsaWRhXCIpO1xuICAgICAgICBjeS5nZXQoXCIjb3V0Z29pbmdzX2JvZHkgaW5wdXRcIikuZmlyc3QoKS50eXBlKFwiMVwiKTtcbiAgICAgICAgY3kuY29udGFpbnMoXCJDb250aW51YXJcIikuY2xpY2soKTtcbiAgICAgICAgY3kuZ2V0KFwiI3ByZXN0YW1vXCIpLmNoZWNrKCk7XG4gICAgICAgIGN5LmdldChcImlucHV0W25hbWU9cGF0aWVudE51bWJlcl1cIikudHlwZShcIjEyMzRcIik7XG4gICAgICAgIGN5LmdldChcImlucHV0W25hbWU9dm9sdW50ZWVyTmFtZV1cIikudHlwZShcIlZPTFVOVEFSSU9QXCIpO1xuICAgICAgICBjeS5jb250YWlucyhcIkNvbnRpbnVhclwiKS5jbGljaygpO1xuICAgICAgICBjeS53YWl0KDEwMDApO1xuXG4gICAgICAgIC8vIFJlZ2lzdGVyIGFuIG91dGNvbWluZ1xuICAgICAgICBjeS52aXNpdChcIi8jL3NhbGlkYVwiKTtcbiAgICAgICAgY3kuZ2V0KFwiI291dGdvaW5nc19ib2R5IGlucHV0XCIpLmZpcnN0KCkudHlwZShcIjFcIik7XG4gICAgICAgIGN5LmNvbnRhaW5zKFwiQ29udGludWFyXCIpLmNsaWNrKCk7XG4gICAgICAgIGN5LmdldChcIiNkb25hY2lvblwiKS5jaGVjaygpO1xuICAgICAgICBjeS5nZXQoXCJpbnB1dFtuYW1lPXBhdGllbnROdW1iZXJdXCIpLnR5cGUoXCI1Njc4XCIpO1xuICAgICAgICBjeS5nZXQoXCJpbnB1dFtuYW1lPXZvbHVudGVlck5hbWVdXCIpLnR5cGUoXCJWT0xVTlRBUklPRFwiKTtcbiAgICAgICAgY3kuY29udGFpbnMoXCJDb250aW51YXJcIikuY2xpY2soKTtcbiAgICAgICAgY3kud2FpdCgxMDAwKTtcbiAgICBcbiAgICAgICAgLy8gUmVnaXN0ZXIgYW4gaW5jb21pbmdcbiAgICAgICAgY3kudmlzaXQoXCIvIy9lbnRyYWRhXCIpO1xuXHRcdGN5LmdldChcIiNpbmNvbWluZ3NfYm9keSBpbnB1dFwiKS5maXJzdCgpLnR5cGUoXCIxXCIpO1xuICAgICAgICBjeS5jb250YWlucyhcIkNvbnRpbnVhclwiKS5jbGljaygpO1xuICAgICAgICBjeS5nZXQoXCJpbnB1dFtuYW1lPWRvbm9yTmFtZV1cIikudHlwZShcIkRPTkFOVEVFXCIpO1xuICAgICAgICBjeS5nZXQoXCJpbnB1dFtuYW1lPXZvbHVudGVlck5hbWVdXCIpLnR5cGUoXCJWT0xVTlRBUklPUEVcIik7XG4gICAgICAgIGN5LmNvbnRhaW5zKFwiQ29udGludWFyXCIpLmNsaWNrKCk7XG4gICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgIFxuICAgICAgfSk7XG5cbiAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICAvLyBMb2dpbiBiZWZvcmUgZWFjaCB0ZXN0XG5cdFx0Y3kubG9naW4oXCJhZG1pblwiLCBcImp1YW4yMDAzMjAwM1wiKTtcbiAgICAgIH0pO1xuICAgICAgICBcbiAgICAvLyBUZXN0IGZvciBsb2FuIHNlYXJjaFxuICAgIGl0KFwiQsO6c3F1ZWRhIGRlIHByw6lzdGFtb1wiLCAoKSA9PiB7XG4gICAgICAgIC8vIFNlYXJjaCBpbiBBY3RpdmUgTG9hbnMgdGFibGVcbiAgICAgICAgY3kudmlzaXQoXCIvIy9wcmVzdGFtb3NcIik7XG4gICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgIGN5LmdldCgnaW5wdXRbcGxhY2Vob2xkZXI9XCJCdXNjYXJcIl0nKS50eXBlKFwiVk9MVU5UQVJJT1BcIik7XG4gICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgIGN5LmdldChcImJ1dHRvblwiKS5lcSgyKS5jbGljaygpO1xuICAgICAgICBjeS5nZXQoXCJ0YWJsZVwiKS5zaG91bGQoXCJjb250YWluXCIsIFwiVk9MVU5UQVJJT1BcIik7XG4gICAgICAgIFxuICAgICAgICAvLyBTZWFyY2ggaW4gUGFzdCBNb3ZlbWVudHMgKExvYW5zKSB0YWJsZSAgICAgICAgXG4gICAgICAgIGN5LnZpc2l0KFwiLyMvbW92aW1pZW50b3NcIik7XG4gICAgICAgIGN5LmdldChcImJ1dHRvblwiKS5jb250YWlucyhcIlByw6lzdGFtb1wiKS5jbGljaygpO1xuICAgICAgICBjeS53YWl0KDEwMDApO1xuICAgICAgICBjeS5nZXQoJ2lucHV0W3BsYWNlaG9sZGVyPVwiQnVzY2FyXCJdJykudHlwZShcIlZPTFVOVEFSSU9QXCIpO1xuICAgICAgICBjeS53YWl0KDEwMDApO1xuICAgICAgICBjeS5nZXQoXCJidXR0b25cIikuZXEoMikuY2xpY2soKTtcbiAgICAgICAgY3kuZ2V0KFwidGFibGVcIikuc2hvdWxkKFwiY29udGFpblwiLCBcIlZPTFVOVEFSSU9QXCIpO1xuICAgIH0pO1xuXG4gICAgLy8gVGVzdCBmb3IgZW50cnkgZG9uYXRpb24gc2VhcmNoXG4gICAgaXQoXCJCw7pzcXVlZGEgZGUgZG9uYWNpb24gZGUgZW50cmFkYVwiLCAoKSA9PiB7XG4gICAgICAgIGN5LnZpc2l0KFwiLyMvbW92aW1pZW50b3NcIik7XG4gICAgICAgIGN5LmdldChcImJ1dHRvblwiKS5jb250YWlucyhcIkVudHJhZGFzXCIpLmNsaWNrKCk7XG4gICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgIGN5LmdldCgnaW5wdXRbcGxhY2Vob2xkZXI9XCJCdXNjYXJcIl0nKS50eXBlKFwiRE9OQU5URUVcIik7XG4gICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgIGN5LmdldChcImJ1dHRvblwiKS5lcSgyKS5jbGljaygpO1xuICAgICAgICBjeS5nZXQoXCJ0YWJsZVwiKS5zaG91bGQoXCJjb250YWluXCIsIFwiRE9OQU5URUVcIik7XG4gICAgfSk7XG5cbiAgICAvLyBUZXN0IGZvciByZWdpc3RlcmVkIGV4aXQgc2VhcmNoXG4gICAgaXQoXCJCdXNxdWVkYSBkZSB1bmEgc2FsaWRhIHJlZ2lzdHJhZGFcIiwgKCkgPT4ge1xuICAgICAgICBjeS52aXNpdChcIi8jL21vdmltaWVudG9zXCIpO1xuICAgICAgICBjeS5nZXQoXCJidXR0b25cIikuY29udGFpbnMoXCJTYWxpZGFzXCIpLmNsaWNrKCk7XG4gICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgIGN5LmdldCgnaW5wdXRbcGxhY2Vob2xkZXI9XCJCdXNjYXJcIl0nKS50eXBlKFwiVk9MVU5UQVJJT0RcIik7XG4gICAgICAgIGN5LndhaXQoMTAwMCk7XG4gICAgICAgIGN5LmdldChcImJ1dHRvblwiKS5lcSgyKS5jbGljaygpO1xuICAgICAgICBjeS5nZXQoXCJ0YWJsZVwiKS5zaG91bGQoXCJjb250YWluXCIsIFwiNTY3OFwiKTtcbiAgICB9KTtcblxuICAgIC8vIFRlc3QgZm9yIG51bGwgb3IgZW1wdHkgdmFsdWVzOlxuICAgIGl0KFwiQnVzcXVlZGEgZGUgdmFsb3JlcyBudWxvcyBvIHZhY2lvc1wiLCAoKSA9PiB7XG4gICAgICAgIC8vIFJlZ2lzdGVyIGEgdHJhbnNhY3Rpb24gd2l0aCBudWxsIHZhbHVlcyAgICAgICAgXG4gICAgICAgIGN5LnZpc2l0KFwiLyMvc2FsaWRhXCIpO1xuICAgICAgICBjeS5nZXQoXCJpbnB1dFwiKS5maXJzdCgpLnR5cGUoXCIxXCIpO1xuICAgICAgICBjeS5jb250YWlucyhcIkNvbnRpbnVhclwiKS5jbGljaygpO1xuICAgICAgICBjeS5nZXQoXCIjZG9uYWNpb25cIikuY2hlY2soKTtcbiAgICAgICAgY3kuZ2V0KFwiaW5wdXRbbmFtZT1wYXRpZW50TnVtYmVyXVwiKS50eXBlKFwiOTk5OVwiKTtcbiAgICAgICAgY3kuZ2V0KFwiaW5wdXRbbmFtZT12b2x1bnRlZXJOYW1lXVwiKS5jbGVhcigpO1xuICAgICAgICBjeS5jb250YWlucyhcIkNvbnRpbnVhclwiKS5jbGljaygpO1xuICAgICAgICBjeS53YWl0KDYwMDApO1xuICAgICAgICBcbiAgICAgICAgLy8gUGVyZm9ybSBzZWFyY2ggZm9yIGEgdHJhbnNhY3Rpb24gd2l0aCBudWxsIHZhbHVlcyAoU2hvdWxkIG5vdCBleGlzdCkgICAgICAgIFxuICAgICAgICBjeS52aXNpdChcIi8jL21vdmltaWVudG9zXCIpO1xuICAgICAgICBjeS5nZXQoXCJidXR0b25cIikuY29udGFpbnMoXCJTYWxpZGFzXCIpLmNsaWNrKCk7XG4gICAgICAgIGN5LmdldCgnaW5wdXRbcGxhY2Vob2xkZXI9XCJCdXNjYXJcIl0nKS50eXBlKFwiOTk5OVwiKTtcbiAgICAgICAgY3kud2FpdCgxMDAwKTtcbiAgICAgICAgY3kuZ2V0KFwiYnV0dG9uXCIpLmVxKDIpLmNsaWNrKCk7XG4gICAgICAgIGN5LmdldChcInRhYmxlXCIpLnNob3VsZChcIm5vdC5jb250YWluXCIsIFwiOTk5OVwiKTtcbiAgICB9KTtcblxuICAgIC8vIFRlc3QgZm9yIHZpZXdpbmcgcGFzdCB0cmFuc2FjdGlvbnNcbiAgICBpdChcIlZlcmlmaWNhY2nDs24gZGUgbGEgdmlzdWFsaXphY2nDs24gZGUgdHJhbnNhY2Npb25lcyBwYXNhZGFzXCIsICgpID0+IHtcbiAgICAgICAgY3kudmlzaXQoXCIvIy9tb3ZpbWllbnRvc1wiKTtcbiAgICAgICAgY3kud2FpdCgxMDAwKTtcbiAgICAgICAgY3kuZ2V0KFwidGFibGVcIikuZmluZChcInRyXCIpLnNob3VsZChcImhhdmUubGVuZ3RoLmdyZWF0ZXJUaGFuXCIsIDEpO1xuICAgIH0pO1xuXG4gICAgLy8gU29ydGluZyB0ZXN0XG4gICAgaXQoXCJUYWJsYSBvcmRlbmFkYSBkZXNjZW5kZW50ZW1lbnRlIHBvciBmZWNoYVwiLCAoKSA9PiB7XG4gICAgICAgIC8vIFZpc2l0IHRoZSBtb3ZlbWVudHMgcGFnZVxuICAgICAgICBjeS52aXNpdChcIi8jL21vdmltaWVudG9zXCIpO1xuICAgICAgICBjeS53YWl0KDEwMDApO1xuICAgICAgICAvLyBTZWxlY3QgYWxsIGNlbGxzIGluIHRoZSB0aGlyZCBjb2x1bW5cbiAgICAgICAgY3kuZ2V0KFwidGFibGUgdGJvZHkgdHIgdGQ6bnRoLWNoaWxkKDMpXCIpXG4gICAgICAgIC50aGVuKCgkY2VsbHMpID0+IHtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIHRleHQgY29udGVudCBvZiB0aGUgY2VsbHMgYW5kIHN0b3JlIHRoZW0gaW4gYW4gYXJyYXlcbiAgICAgICAgICAgIGNvbnN0IGRhdGVzID0gWy4uLiRjZWxsc10ubWFwKGNlbGwgPT4gY2VsbC5pbm5lclRleHQudHJpbSgpKTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIGRhdGUgc3RyaW5ncyB0byBEYXRlIG9iamVjdHMgZm9yIGVhc3kgY29tcGFyaXNvblxuICAgICAgICAgICAgY29uc3QgZGF0ZU9iamVjdHMgPSBkYXRlcy5tYXAoZGF0ZSA9PiBuZXcgRGF0ZShkYXRlKSk7XG4gICAgICAgICAgICAvLyBWZXJpZnkgdGhhdCB0aGUgZGF0ZXMgYXJlIGluIGRlc2NlbmRpbmcgb3JkZXJcbiAgICAgICAgICAgIGNvbnN0IGlzRGVzY2VuZGluZyA9IGRhdGVPYmplY3RzLmV2ZXJ5KChkYXRlLCBpLCBhcnIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgZWFjaCBkYXRlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgcHJldmlvdXMgZGF0ZVxuICAgICAgICAgICAgICAgIHJldHVybiBpID09PSAwIHx8IGRhdGUgPD0gYXJyW2kgLSAxXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gVXNlIGV4cGVjdCB0byBhc3NlcnQgdGhhdCB0aGUgZGF0ZXMgYXJlIGluZGVlZCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gICAgICAgICAgICBleHBlY3QoaXNEZXNjZW5kaW5nKS50by5iZS50cnVlO1xuICAgICAgICB9KTtcblxuICAgIH0pO1xuICAgIFxuICAgIC8vIFRlc3QgZm9yIGhhbmRsaW5nIHRpbWUgem9uZXMgYW5kIHNwZWNpYWwgZGF0ZXNcbn0pO1xuICAiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJiZWZvcmUiLCJjeSIsImxvZ2luIiwidmlzaXQiLCJnZXQiLCJmaXJzdCIsInR5cGUiLCJjb250YWlucyIsImNsaWNrIiwiY2hlY2siLCJ3YWl0IiwiYmVmb3JlRWFjaCIsIml0IiwiZXEiLCJzaG91bGQiLCJjbGVhciIsImZpbmQiLCJ0aGVuIiwiJGNlbGxzIiwiZGF0ZXMiLCJtYXAiLCJjZWxsIiwiaW5uZXJUZXh0IiwidHJpbSIsImRhdGVPYmplY3RzIiwiZGF0ZSIsIkRhdGUiLCJpc0Rlc2NlbmRpbmciLCJldmVyeSIsImkiLCJhcnIiLCJleHBlY3QiLCJ0byIsImJlIiwidHJ1ZSJdLCJzb3VyY2VSb290IjoiIn0=